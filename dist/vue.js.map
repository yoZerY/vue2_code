{"version":3,"file":"vue.js","sources":["../src/observe/array.js","../src/observe/dep.js","../src/observe/index.js","../src/observe/watcher.js","../src/state.js","../src/compiler/parse.js","../src/compiler/index.js","../src/vdom/index.js","../src/lifeCycle.js","../src/utils.js","../src/init.js","../src/globalApi.js","../src/index.js"],"sourcesContent":["//重写数组部分方法\r\n\r\nlet oldArrayProto = Array.prototype //数组原型\r\nexport let newArrayProto = Object.create(oldArrayProto)\r\n//会改变原数组的方法\r\nconst methods = ['push', 'pop', 'shift', 'unshift', 'reverse', 'sort', 'splice']\r\n\r\nmethods.forEach(method => {\r\n    newArrayProto[method] = function (...args) {\r\n        const result = oldArrayProto[method].call(this, ...args)\r\n        const ob = this.__ob__\r\n        //对新增的值检测\r\n        let inserted\r\n        switch (method) {\r\n            case 'push':\r\n            case 'unshift':\r\n                inserted = args\r\n                break;\r\n            case 'splice':\r\n                inserted = args.slice(2)\r\n            default:\r\n                break\r\n        }\r\n        if (inserted) { //inserted type Array\r\n            //this 指的是 谁调得方法就是谁\r\n            ob.obServerArray(inserted)\r\n        }\r\n\r\n        return result\r\n    }\r\n})\r\n","let id = 0\r\n\r\n//属性的dep收集Watcher\r\nclass Dep {\r\n    constructor() {\r\n        this.id = id++\r\n        this.subs = [] //存放当前属性对应的Watcher\r\n    }\r\n\r\n    depend() {\r\n        Dep.target.addDep(this) // watcher内添加DEP\r\n    }\r\n\r\n    addSub(watcher) {\r\n        this.subs.push(watcher)\r\n    }\r\n\r\n    notify() {\r\n        this.subs.forEach(watcher => watcher.update())\r\n    }\r\n}\r\n\r\nDep.target = null\r\n\r\nlet stack = []\r\nexport function pushTarget(watcher){\r\n    stack.push(watcher)\r\n    Dep.target = watcher\r\n}\r\nexport  function  popTarget(watcher){\r\n    stack.pop()\r\n    Dep.target = stack[stack.length - 1]\r\n}\r\n\r\nexport default Dep\r\n","import {newArrayProto} from \"./array\";\r\nimport Dep from \"./dep\";\r\n\r\nclass Observer {\r\n    constructor(data) {\r\n        // Object.defineProperty() 只能劫持已存在的属性 （$set $delete）\r\n\r\n        Object.defineProperty(data, '__ob__', { //__ob__属性不可枚举\r\n            value: this,\r\n            enumerable: false\r\n        })\r\n\r\n        if (Array.isArray(data)) {\r\n            //重写数组方法 7个编译方法 可修改数组本身\r\n            data.__proto__ = newArrayProto\r\n            this.obServerArray(data)\r\n        } else {\r\n            this.walk(data)\r\n        }\r\n    }\r\n\r\n    walk(data) { //循环对象劫持属性\r\n        //重新定义属性\r\n        Object.keys(data).forEach(key => defineReactive(data, key, data[key]))\r\n    }\r\n\r\n    obServerArray(data) {\r\n        data.forEach(item => observe(item))\r\n    }\r\n}\r\n\r\nexport function defineReactive(target, key, value) { //属性劫持\r\n    observe(value) //递归劫持数据\r\n    let dep = new Dep()\r\n    Object.defineProperty(target, key, {\r\n        get() { //取值get\r\n            // console.log(`取值get:${value}`);\r\n            if (Dep.target) {\r\n                dep.depend()\r\n            }\r\n            return value\r\n        },\r\n        set(newValue) { //设置值set\r\n            // console.log(`设置值set:${newValue}`);\r\n            if (newValue === value) return\r\n            observe(newValue)\r\n            value = newValue\r\n            dep.notify() //通知Dep更新\r\n        }\r\n    })\r\n}\r\n\r\nexport function observe(data) {\r\n    if (typeof data !== 'object' || data === null) { //只对对象进行劫持\r\n        return\r\n    }\r\n    if (data.__ob__ instanceof Observer) {\r\n        return data.__ob__\r\n    }\r\n    //如果一个对象已经被劫持 那就不需要再劫持了（添加一个实例 来判断是否劫持过）\r\n    return new Observer(data)\r\n}\r\n","import Dep, {popTarget, pushTarget} from \"./dep\";\r\n\r\nlet id = 0\r\n\r\n//每个属性有Dep（属性石被观察者） watcher就是观察者（属性变化就会通知 watcher）  观察者模式\r\n\r\n// 每个组件都有单独的watcher\r\nclass Watcher {\r\n    constructor(vm, fn, options, cb) {\r\n        this.id = id++\r\n        this.renderWatcher = options //渲染 Watcher\r\n\r\n        if (typeof fn === 'string') {\r\n            this.getter = function () {\r\n                return vm[fn]\r\n            }\r\n        } else {\r\n            this.getter = fn\r\n        }\r\n\r\n        this.deps = [] //后续实现计算属性和清理工作\r\n        this.depsId = new Set()\r\n        this.lazy = options.lazy\r\n        this.dirty = this.lazy\r\n        this.user = options.user // 用户自己的watch\r\n        this.cb = cb\r\n        this.vm = vm\r\n\r\n        this.value = this.lazy ? undefined : this.get()\r\n    }\r\n\r\n    addDep(dep) {\r\n        let id = dep.id\r\n        if (!this.depsId.has(id)) {\r\n            this.deps.push(dep)\r\n            this.depsId.add(id)\r\n            dep.addSub(this) //dep内存储 watcher\r\n        }\r\n    }\r\n\r\n    get() {\r\n        pushTarget(this)  //创建渲染watcher的时候把当前的渲染watcher放在Dep.target上\r\n        const value = this.getter.call(this.vm)\r\n        popTarget(this)\r\n        return value\r\n    }\r\n\r\n    evaluate() {\r\n        this.value = this.get()\r\n        this.dirty = false\r\n    }\r\n\r\n    update() {\r\n        if (this.lazy) {\r\n            this.dirty = true\r\n        } else {\r\n            queueWatcher(this) //把当前watcher存起来\r\n        }\r\n    }\r\n\r\n    depend() {\r\n        let i = this.deps.length\r\n        while (i--) {\r\n            this.deps[i].depend()\r\n        }\r\n    }\r\n\r\n    run() {\r\n        let oldValue = this.value\r\n        let newVal = this.get()\r\n        if (this.user) {\r\n            this.cb.call(this.vm, newVal, oldValue)\r\n        } else {\r\n            this.get()\r\n        }\r\n    }\r\n}\r\n\r\n//========================queueWatcher====================\r\nlet queue = []\r\nlet has = {}\r\nlet pending = false\r\n\r\nfunction flashQueue() {\r\n    let copyQueue = queue.slice(0)\r\n    queue = []\r\n    has = {}\r\n    pending = false\r\n    copyQueue.forEach(watcher => watcher.run())\r\n}\r\n\r\nfunction queueWatcher(watcher) {\r\n    const {id} = watcher\r\n    if (!has[id]) {\r\n        queue.push(watcher)\r\n        has[id] = true\r\n\r\n        //多次更新最终只更新一次\r\n        if (!pending) {\r\n            nextTick(flashQueue, 0)\r\n            pending = true\r\n        }\r\n    }\r\n}\r\n\r\n//========================nextTick=========================\r\nlet callbacks = []\r\nlet waiting = false\r\n\r\nfunction flushCallbacks() {\r\n    waiting = false\r\n    let cbs = callbacks.slice(0)\r\n    callbacks = []\r\n    cbs.forEach(cb => cb())\r\n}\r\n\r\nlet timeFunc\r\nif (Promise) {\r\n    timeFunc = () => {\r\n        Promise.resolve().then(flushCallbacks)\r\n    }\r\n} else if (MutationObserver) {\r\n    let observe = new MutationObserver(flushCallbacks)\r\n    let textNode = document.createTextNode(1)\r\n    observe.observe(textNode, {\r\n        characterData: true\r\n    })\r\n    timeFunc = () => {\r\n        textNode.textContent = 2\r\n    }\r\n} else if (setImmediate) {\r\n    timeFunc = () => {\r\n        setImmediate(flushCallbacks)\r\n    }\r\n} else {\r\n    timeFunc = () => {\r\n        setTimeout(flushCallbacks)\r\n    }\r\n}\r\n\r\nexport function nextTick(cb) {\r\n    callbacks.push(cb)\r\n    if (!waiting) {\r\n        timeFunc()\r\n        waiting = true\r\n    }\r\n}\r\n\r\nexport default Watcher\r\n\r\n// 给每个属性增加一个dep 目的是收集watcher\r\n","import {observe} from \"./observe/index\";\r\nimport Watcher from \"./observe/watcher\";\r\nimport Dep from \"./observe/dep\";\r\n\r\nexport function initState(vm) {\r\n    const opts = vm.$options //获取所有选项\r\n    if (opts.data) {\r\n        initData(vm)\r\n    }\r\n\r\n    if (opts.computed) {\r\n        initComputed(vm)\r\n    }\r\n\r\n    if (opts.watch) {\r\n        initWatch(vm)\r\n    }\r\n}\r\n\r\nfunction proxy(vm, target, key) {\r\n    Object.defineProperty(vm, key, {\r\n        get() {\r\n            return vm[target][key] //vm._data.xxx\r\n        },\r\n        set(newValue) {\r\n            vm[target][key] = newValue\r\n        }\r\n    })\r\n}\r\n\r\nfunction initData(vm) {\r\n    let data = vm.$options.data //data 可能是函数 可能是对象\r\n    data = typeof data === 'function' ? data.call(vm) : data\r\n\r\n    vm._data = data\r\n    //数据劫持\r\n    observe(data)\r\n\r\n    //把vm.data 用vm代理\r\n    for (const key in data) {\r\n        proxy(vm, '_data', key)\r\n    }\r\n\r\n}\r\n\r\nfunction initComputed(vm) {\r\n    const {computed} = vm.$options\r\n    const watchers = vm._computedWatchers = {}\r\n    for (const computedKey in computed) {\r\n        let userDef = computed[computedKey]\r\n        const fn = typeof userDef === 'function' ? userDef : userDef.get\r\n        watchers[computedKey] = new Watcher(vm, fn, {lazy: true})\r\n        defineComputed(vm, computedKey, userDef)\r\n    }\r\n}\r\n\r\nfunction defineComputed(vm, key, userDef) {\r\n    const setter = userDef.set || (() => {\r\n    })\r\n    Object.defineProperty(vm, key, {\r\n        get: createComputedGetter(key),\r\n        set: setter\r\n    })\r\n}\r\n\r\nfunction createComputedGetter(key) {\r\n    return function () {\r\n        const watcher = this._computedWatchers[key]\r\n        if (watcher.dirty) {\r\n            watcher.evaluate()\r\n        }\r\n        if (Dep.target) {\r\n            watcher.depend()\r\n        }\r\n        return watcher.value\r\n    }\r\n}\r\n\r\n\r\nfunction initWatch(vm) {\r\n    let watch = vm.$options.watch\r\n    console.log(watch);\r\n    for (const watchKey in watch) {\r\n        const w = watch[watchKey]\r\n        if (Array.isArray(w)) {\r\n            for (let i = 0; i < w.length; i++) {\r\n                createWatch(vm, watchKey, w[i])\r\n            }\r\n        } else {\r\n            createWatch(vm, watchKey, w)\r\n        }\r\n    }\r\n}\r\n\r\nfunction createWatch(vm, key, fn) {\r\n    if (typeof fn === 'string') {\r\n        fn = vm[fn]\r\n    }\r\n    return vm.$watch(key, fn)\r\n}\r\n","\r\n\r\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`\r\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`\r\nconst startTagOpen = new RegExp(`^<${qnameCapture}`)\r\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`)\r\nconst attribute =\r\n    /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/\r\nconst startTagClose = /^\\s*(\\/?)>/\r\n\r\n\r\nexport function parseHTML(html) {\r\n\r\n    const ELEMENT_TYPE = 1\r\n    const TEXT_TYPE = 3\r\n    const stack = []\r\n    let currentParent\r\n    let root\r\n\r\n    function createAstElement(tag, attrs) {\r\n        return {\r\n            tag,\r\n            attrs,\r\n            type: ELEMENT_TYPE,\r\n            children: [],\r\n            parent: null\r\n        }\r\n    }\r\n\r\n\r\n    function start(tag, attrs) {\r\n        const node = createAstElement(tag, attrs)\r\n        if (!root) {\r\n            root = node\r\n        }\r\n        if (currentParent) {\r\n            node.parent = currentParent\r\n            currentParent.children.push(node)\r\n        }\r\n        stack.push(node)\r\n        currentParent = node\r\n    }\r\n\r\n    function charts(text) {\r\n        text = text.replace(/\\s/g, '')\r\n        text && currentParent.children.push({\r\n            type: TEXT_TYPE,\r\n            text,\r\n            parent: currentParent\r\n        })\r\n    }\r\n\r\n    function end(tag) {\r\n        stack.pop()\r\n        currentParent = stack[stack.length - 1]\r\n    }\r\n\r\n    function advance(n) {\r\n        html = html.substring(n)\r\n    }\r\n\r\n    function parseStartTag() {\r\n        const start = html.match(startTagOpen)\r\n        if (start) {\r\n            const match = {\r\n                tagName: start[1],//标签名\r\n                attrs: []\r\n            }\r\n            advance(start[0].length)\r\n\r\n            let attr\r\n            let end\r\n            while (!(end = html.match(startTagClose)) && (attr = html.match(attribute))) { //非开始标签得结束\r\n                advance(attr[0].length)\r\n                match.attrs.push({\r\n                    name: attr[1], value: attr[3] || attr[4] || attr[5]\r\n                })\r\n            }\r\n            if (end) {\r\n                advance(end[0].length)\r\n            }\r\n            return match\r\n        }\r\n        return false\r\n    }\r\n\r\n    while (html) {\r\n        let textEnd = html.indexOf(\"<\")\r\n        if (textEnd === 0) {\r\n            const startTagMatch = parseStartTag()\r\n            if (startTagMatch) {\r\n                start(startTagMatch.tagName, startTagMatch.attrs)\r\n                continue\r\n            }\r\n\r\n            let endTagMatch = html.match(endTag)\r\n            if (endTagMatch) {\r\n                advance(endTagMatch[0].length)\r\n                end(endTagMatch[1])\r\n                continue\r\n            }\r\n        }\r\n        if (textEnd > 0) {\r\n            let text = html.substring(0, textEnd) //文本内容\r\n            if (text) {\r\n                advance(text.length)\r\n                charts(text)\r\n            }\r\n        }\r\n    }\r\n\r\n    return root\r\n}\r\n","//编译模板\r\n\r\nimport {parseHTML} from \"./parse\";\r\n\r\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g;\r\n\r\nfunction genProps(attrs) {\r\n    let str = ''\r\n    for (let i = 0; i < attrs.length; i++) {\r\n        let attr = attrs[i]\r\n        if (attr.name === 'style') {\r\n            let obj = {}\r\n            attr.value.split(';').forEach(e => {\r\n                let [key, value] = e.split(':')\r\n                obj[key] = value\r\n            })\r\n            attr.value = obj\r\n        }\r\n        str += `${attr.name}:${JSON.stringify(attr.value)},`\r\n    }\r\n    return `{${str.slice(0, -1)}}`\r\n}\r\n\r\nfunction gen(node) {\r\n    const text = node.text\r\n    if (node.type === 1) {\r\n        return codeGen(node)\r\n    } else {\r\n        if (!defaultTagRE.test(text)) {\r\n            return `_v(${JSON.stringify(text)})`\r\n        } else {\r\n            let tokens = []\r\n            let match\r\n            defaultTagRE.lastIndex = 0\r\n            let lastIndex = 0\r\n            while (match = defaultTagRE.exec(text)) {\r\n                let index = match.index\r\n                if (index > lastIndex) {\r\n                    tokens.push(JSON.stringify(text.slice(lastIndex, index)))\r\n                }\r\n                tokens.push(`_s(${match[1].trim()})`)\r\n                lastIndex = index + match[0].length\r\n            }\r\n            if (lastIndex < text.length) {\r\n                tokens.push(JSON.stringify(text.slice(lastIndex)))\r\n            }\r\n            return `_v(${tokens.join('+')})`\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\nfunction genChildren(children) {\r\n    return children && children.map(child => gen(child)).join(',')\r\n}\r\n\r\nfunction codeGen(ast) {\r\n    let children = genChildren(ast.children)\r\n    let code = (`_c('${ast.tag}', \r\n    ${ast.attrs.length ? genProps(ast.attrs) : 'null'}\r\n    ${ast.children.length ? `, ${children}` : ''})`)\r\n\r\n    return code\r\n}\r\n\r\nexport function compileToFunction(template) {\r\n    //template 转为ast语法树\r\n    let ast = parseHTML(template)\r\n\r\n    //生成render 方法  虚拟DOM\r\n    let code = codeGen(ast)\r\n    code = `with(this){return ${code}}`\r\n    let render = new Function(code)\r\n    return render\r\n\r\n}\r\n","export function createElementVNode(vm, tag, data , ...children) {\r\n    if(data == null) {\r\n        data = {}\r\n    }\r\n    let key = data.key\r\n    if (key) {\r\n        delete data.key\r\n    }\r\n    return vNode(vm, tag, key, data, children)\r\n}\r\n\r\nexport function createTextVNode(vm, text) {\r\n    return vNode(vm, undefined, undefined, undefined, undefined, text)\r\n}\r\n\r\nfunction vNode(vm, tag, key, data, children, text) {\r\n    return {\r\n        vm,\r\n        tag,\r\n        key,\r\n        data,\r\n        children,\r\n        text\r\n    }\r\n}\r\n","import {createElementVNode, createTextVNode} from \"./vdom\";\r\nimport Watcher from \"./observe/watcher\";\r\n\r\nfunction createElm(vNode) {\r\n    const {tag, data, children, text} = vNode\r\n    if (typeof tag === 'string') {\r\n        vNode.el = document.createElement(tag)\r\n        patchProps(vNode.el, data)\r\n        children && children.length && children.forEach(child => {\r\n            vNode.el.appendChild(createElm(child))\r\n        })\r\n    } else {\r\n        vNode.el = document.createTextNode(text)\r\n    }\r\n    return vNode.el\r\n}\r\n\r\nfunction patchProps(el, data) {\r\n    for (const key in data) {\r\n        if (key === 'style') {\r\n            for (const styleKey in data.style) {\r\n                el.style[styleKey] = data.style[styleKey]\r\n            }\r\n        } else {\r\n            el.setAttribute(key, data[key])\r\n        }\r\n    }\r\n}\r\n\r\nfunction patch(oldVNode, vNode) {\r\n    const isRealElement = oldVNode.nodeType\r\n    if (isRealElement) {\r\n        const elm = oldVNode\r\n        const parentEl = elm.parentNode\r\n        let newEle = createElm(vNode)\r\n        parentEl.insertBefore(newEle, elm.nextSibling)\r\n        parentEl.removeChild(elm)\r\n\r\n        return newEle\r\n    } else {\r\n\r\n    }\r\n}\r\n\r\nexport function initLifeCycle(Vue) {\r\n    Vue.prototype._update = function (vNode) { // vNode转化为真实DOM\r\n        const vm = this\r\n        const el = vm.$el\r\n        vm.$el = patch(el, vNode)\r\n    }\r\n    Vue.prototype._c = function () {\r\n        return createElementVNode(this, ...arguments)\r\n    }\r\n    Vue.prototype._v = function () {\r\n        return createTextVNode(this, ...arguments)\r\n    }\r\n    Vue.prototype._s = function (value) {\r\n        if (typeof value === 'object') return value\r\n        return value\r\n    }\r\n    Vue.prototype._render = function () {\r\n        return this.$options.render.call(this)\r\n    }\r\n}\r\n\r\nexport function mountComponent(vm, el) {\r\n    vm.$el = el\r\n    const updateComponent = () => {\r\n        //更新组件\r\n        vm._update(vm._render())\r\n    }\r\n    new Watcher(vm, updateComponent, true)\r\n}\r\n\r\nexport function  callHook(vm,hook){\r\n    const hookArr = vm.$options[hook]\r\n    if(hookArr){\r\n        hookArr.forEach(e => e.call(vm))\r\n    }\r\n}\r\n\r\n// 1.生成相应数据  2.模板转换成AST语法树   3.ast转换成render函数\r\n// render 生成虚拟节点\r\n// 虚拟节点创造真实DOM\r\n","\r\nconst strats = {}\r\nconst LIFECYCLE = [\r\n    'beforeCreate', 'created'\r\n]\r\nLIFECYCLE.forEach(hook => {\r\n    strats[hook] = function (parent, child) {\r\n        if (child) {\r\n            if (parent) {\r\n                return parent.concat(child)\r\n            } else {\r\n                return [child]\r\n            }\r\n        } else {\r\n            return parent\r\n        }\r\n    }\r\n})\r\n\r\n\r\nexport function mergeOptions(parent, child) {\r\n    const options = {}\r\n    for (const parentKey in parent) {\r\n        mergeField(parentKey)\r\n    }\r\n    for (const childKey in child) {\r\n        if (!parent.hasOwnProperty(childKey)) {\r\n            mergeField(childKey)\r\n        }\r\n    }\r\n\r\n    function mergeField(key) {\r\n        if (strats[key]) {\r\n            options[key] = strats[key](parent[key], child[key])\r\n        } else {\r\n            options[key] = child[key] || parent[key]\r\n        }\r\n    }\r\n\r\n    return options\r\n}\r\n","import {initState} from \"./state\";\r\nimport {compileToFunction} from \"./compiler/index\";\r\nimport {callHook, mountComponent} from \"./lifeCycle\";\r\nimport {mergeOptions} from \"./utils\";\r\n\r\nexport function initMixin(Vue) { // 给vue添加init方法(初始化方法)\r\n    Vue.prototype._init = function (options) {\r\n        const vm = this\r\n\r\n        vm.$options = mergeOptions(this.constructor.options, options)\r\n\r\n        callHook(vm, 'beforeCreate')\r\n\r\n        //初始化状态\r\n        initState(vm)\r\n\r\n        callHook(vm, 'created')\r\n\r\n        if (options.el) {\r\n            vm.$mount(options.el)\r\n        }\r\n    }\r\n    Vue.prototype.$mount = function (el) {\r\n        const vm = this\r\n        el = document.querySelector(el)\r\n\r\n        let opts = vm.$options\r\n        if (!opts.render) { //是否有render函数\r\n            let template\r\n            if (!opts.template && el) { //是否有template\r\n                template = el.outerHTML\r\n            } else {\r\n                if (el) {\r\n                    template = opts.template\r\n                }\r\n            }\r\n            //有template\r\n            if (template) {\r\n                //template 模板编译\r\n                const render = compileToFunction(template)\r\n                opts.render = render\r\n            }\r\n        }\r\n        mountComponent(vm, el)\r\n    }\r\n\r\n}\r\n\r\n","import Vue from \"./index\";\r\nimport {mergeOptions} from \"./utils\";\r\n\r\n\r\nexport function globalApi(Vue) {\r\n    Vue.options = {}\r\n\r\n    Vue.mixin = function (mixin) {\r\n        this.options = mergeOptions(this.options, mixin)\r\n        return this\r\n    }\r\n}\r\n","import {initMixin} from \"./init\";\r\nimport {initLifeCycle} from \"./lifeCycle\";\r\nimport Watcher, {nextTick} from \"./observe/watcher\";\r\nimport {globalApi} from \"./globalApi\";\r\n\r\n\r\nfunction Vue(options) { //options为自定义选项\r\n    this._init(options)\r\n}\r\n\r\nVue.prototype.$nextTick = nextTick\r\n\r\ninitMixin(Vue)\r\n\r\ninitLifeCycle(Vue)\r\n\r\nglobalApi(Vue)\r\n\r\nVue.prototype.$watch = function (fn, cb, op = {}) {\r\n    console.log('fn', fn);\r\n    console.log('cb', cb);\r\n    new Watcher(this, fn, {user: true}, cb)\r\n}\r\n\r\n\r\nexport default Vue\r\n"],"names":["oldArrayProto","Array","prototype","newArrayProto","Object","create","methods","forEach","method","args","result","call","ob","__ob__","inserted","slice","obServerArray","id","Dep","subs","target","addDep","watcher","push","update","stack","pushTarget","popTarget","pop","length","Observer","data","defineProperty","value","enumerable","isArray","__proto__","walk","keys","key","defineReactive","item","observe","dep","get","depend","set","newValue","notify","Watcher","vm","fn","options","cb","renderWatcher","getter","deps","depsId","Set","lazy","dirty","user","undefined","has","add","addSub","queueWatcher","i","oldValue","newVal","queue","pending","flashQueue","copyQueue","run","nextTick","callbacks","waiting","flushCallbacks","cbs","timeFunc","Promise","resolve","then","MutationObserver","textNode","document","createTextNode","characterData","textContent","setImmediate","setTimeout","initState","opts","$options","initData","computed","initComputed","watch","initWatch","proxy","_data","watchers","_computedWatchers","computedKey","userDef","defineComputed","setter","createComputedGetter","evaluate","console","log","watchKey","w","createWatch","$watch","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","parseHTML","html","ELEMENT_TYPE","TEXT_TYPE","currentParent","root","createAstElement","tag","attrs","type","children","parent","start","node","charts","text","replace","end","advance","n","substring","parseStartTag","match","tagName","attr","name","textEnd","indexOf","startTagMatch","endTagMatch","defaultTagRE","genProps","str","obj","split","e","JSON","stringify","gen","codeGen","test","tokens","lastIndex","exec","index","trim","join","genChildren","map","child","ast","code","compileToFunction","template","render","Function","createElementVNode","vNode","createTextVNode","createElm","el","createElement","patchProps","appendChild","styleKey","style","setAttribute","patch","oldVNode","isRealElement","nodeType","elm","parentEl","parentNode","newEle","insertBefore","nextSibling","removeChild","initLifeCycle","Vue","_update","$el","_c","arguments","_v","_s","_render","mountComponent","updateComponent","callHook","hook","hookArr","strats","LIFECYCLE","concat","mergeOptions","parentKey","mergeField","childKey","hasOwnProperty","initMixin","_init","constructor","$mount","querySelector","outerHTML","globalApi","mixin","$nextTick"],"mappings":"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"}